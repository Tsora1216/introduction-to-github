var CMN=CMN||function($,window,document){var ua=function(){var ua_str=navigator.userAgent.toLocaleLowerCase(),ua={is_mobile:!1,is_tablet:!1,is_pc:!1,is_android:!1,is_ie:!1};return ua_str.indexOf("iphone")>0||ua_str.indexOf("android")>0&&ua_str.indexOf("mobile")>0?ua.is_mobile=!0:ua_str.indexOf("ipad")>0||ua_str.indexOf("android")>0?ua.is_tablet=!0:ua.is_pc=!0,ua_str.indexOf("android")>0&&(ua.is_android=!0),(ua_str.indexOf("msie ")>-1||ua_str.indexOf("trident/")>-1)&&(ua.is_ie=!0),ua}();function windowWidth(){return ua.is_pc?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:document.documentElement.clientWidth||document.body.clientWidth}var _event,display=function(){var old,breakpoint=new Map;function state(){var o={lt:"",lte:"",gt:"",gte:""};return breakpoint.forEach((function(val,key){!o.lt&&isLt(key)&&(o.lt=key),!o.lte&&isLte(key)&&(o.lte=key),isGt(key)&&(o.gt=key),isGte(key)&&(o.gte=key)})),o}function isLt(key){return windowWidth()<breakpoint.get(key)}function isLte(key){return windowWidth()<=breakpoint.get(key)}function isGt(key){return windowWidth()>breakpoint.get(key)}function isGte(key){return windowWidth()>=breakpoint.get(key)}return breakpoint.set("sp",767),old=state(),$(window).on("resize.switch_breakpoint",(function(e){var now=state();(e.isTrigger||old.lt!==now.lt||old.lte!==now.lte||old.gt!==now.gt||old.gte!==now.gte)&&(old=now,$(this).trigger("switch_breakpoint",[now]))})),{isLt:isLt,isLte:isLte,isGt:isGt,isGte:isGte,state:state,breakpoint:breakpoint}}(),smoothScrollBy=(_event={before:$.Event("smooth_scroll_before"),after:$.Event("smooth_scroll_after")},smoothScrollBy=function(target,duration){var t=null;if("number"==typeof target?t=target:(t=$(target)).length||(t=null),null!=t){if("number"!=typeof t){var r_id=t.data("relation-id");if(void 0!==r_id){var $r_el=$("#"+r_id);$r_el.length&&(t=$r_el)}}var $body=$(window.navigator.appName.match(/Opera/)?"html":"html,body"),offset=$(".js-g-header").outerHeight(!0);offset||(offset=0);var top="number"==typeof t?t:t.offset().top-offset;if(!ua.is_ie){var topMax=$(document).height()-$(window).height();top>topMax&&(top=topMax)}return $(window).trigger(_event.before,{target:target,target_result:t}),0===duration?$(window).scrollTop(top):$body.stop().animate({scrollTop:top},{duration:duration?parseInt(duration):800,easing:"swing",complete:function(){$(window).trigger(_event.after,{target:target,target_result:t})}}),!1}return!0});var SlideToggle=function(){var SlideToggle=function(el,option){var self=this;self.$el=null,self.option={},el instanceof jQuery?self.$el=el:self.$el=$(el),self.def_option={opened:!1,target:void 0,rel:void 0,before_cb:void 0,after_cb:void 0,event:"click",prefix:"-js-slide-toggle",set_height:!0,prevent_default:!0,stop_propagation:!1,stop_immediate_propagation:!1},self.option=$.extend({},self.def_option,option),self.prefix=self.option.prefix,self.targets=[self.$el],self.rels=null;var data_target=self.$el.data("slide-toggle-target"),data_rel=self.$el.data("slide-toggle-rel"),before_cb=null,after_cb=null;if(void 0!==self.option.target&&(data_target=self.option.target),void 0!==self.option.rel&&(data_rel=self.option.rel),void 0!==self.option.before_cb&&(before_cb=self.option.before_cb),void 0!==self.option.after_cb&&(after_cb=self.option.after_cb),void 0!==self.$el&&null!==self.$el&&self.$el.length){if(self.$el.addClass(self.prefix+"-trig"),data_target)if("string"==typeof data_target){var targets_tmp=data_target.split(",");self.targets=$.grep(targets_tmp,(function(val){return""!==val.trim()})),self.targets.length||(self.targets=[self.$el])}else self.targets=data_target;if(data_rel)if("string"==typeof data_rel){var rels_tmp=data_rel.split(",");self.rels=$.grep(rels_tmp,(function(val){return""!==val.trim()})),self.rels.length||(self.rels=null)}else self.rels=data_rel;self.close(!0);var event_list=self.option.event.split(" ");event_list=$.map(event_list,(function(v){return v+".slide-toggle"})),self.$el.on(event_list.join(" "),(function(e){self.option.prevent_default&&e.preventDefault(),self.option.stop_propagation&&e.stopPropagation(),self.option.stop_immediate_propagation&&e.stopImmediatePropagation();var is_open=$(this).hasClass(self.prefix+"-trig-open");if("function"==typeof before_cb&&!1===before_cb(self,!is_open))return!1;is_open?self.close():self.open(),"function"==typeof after_cb&&after_cb(self,!is_open)})),self.option.opened&&self.$el.trigger("click.slide-toggle")}};return SlideToggle.prototype.updateHeight=function(){$.each(this.targets,(function(){var $el=$(this);$el.css({minHeight:CMN.getHeight($el),height:0})}))},SlideToggle.prototype.close=function(disable_set_height){var self=this;self.targets&&self.targets.length&&$.each(self.targets,(function(i,v){var $el=$(v);self.option.set_height&&!disable_set_height&&$el.css({minHeight:"",height:""}),$el.removeClass(self.prefix+"-open").addClass(self.prefix+"-close"),self.$el.removeClass(self.prefix+"-trig-open").addClass(self.prefix+"-trig-close")})),self.rels&&self.rels.length&&$.each(self.rels,(function(i,v){$(v).removeClass(self.prefix+"-rel-open").addClass(self.prefix+"-rel-close")}))},SlideToggle.prototype.open=function(disable_set_height){var self=this;self.targets&&self.targets.length&&$.each(self.targets,(function(i,v){var $el=$(v);$el.addClass(self.prefix+"-open").removeClass(self.prefix+"-close"),self.$el.addClass(self.prefix+"-trig-open").removeClass(self.prefix+"-trig-close"),self.option.set_height&&!disable_set_height&&$el.css({minHeight:CMN.getHeight($el),height:0})})),self.rels&&self.rels.length&&$.each(self.rels,(function(i,v){$(this).addClass(self.prefix+"-rel-open").removeClass(self.prefix+"-rel-close")}))},SlideToggle}();return{display:display,windowWidth:windowWidth,windowHeight:function(){return ua.is_pc?window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight:document.documentElement.clientHeight||document.body.clientHeight},smoothScrollBy:smoothScrollBy,getHeight:function($el){var height=0;if($el.length){var styles=[];if(void 0!==$el.attr("style")&&(styles=$el.attr("style").split(";")),$el.css({height:"auto",transition:"none"}),height=parseInt($el.outerHeight()),$el.css({height:"",transition:""}),styles&&styles.length){var matches=["height","transition"],o={};$.each(styles,(function(i,v){var item=v.split(":");2===item.length&&-1!==$.inArray($.trim(item[0]),matches)&&(o[$.trim(item[0])]=$.trim(item[1]))})),o&&$el.css(o)}}return height},slideToggle:function(el,option){return new SlideToggle(el,option)},tabSwitch:function(){var prefix="-js-tab-switch",$data_trigger=$("[data-tab-switch]");$data_trigger.length&&($data_trigger.on("click.tab-switch","> *:not([data-tab-switch-exclude])",(function(e){var $this=$(this);$(this).siblings().removeClass(prefix+"-current").removeClass("-js-current"),$this.addClass(prefix+"-current").addClass("-js-current");var target_selector=$(e.delegateTarget).data("tab-switch"),$target=$(target_selector),$target_children=$target.children();$target.length&&$target_children&&($target_children.removeClass(prefix+"-show").addClass(prefix+"-hide"),$target_children.eq($this.index()).removeClass(prefix+"-hide").addClass(prefix+"-show"))})),$data_trigger.each((function(){var $children=$(this).children(),$current=$children.filter("[data-tab-switch-current]");$current.length||($current=$children.eq(0)),$current.length&&$current.trigger("click.tab-switch")})))},tabTarget:function(){var prefix="-js-tab-target",$data_trigger=$("[data-tab-target]");$data_trigger.length&&($data_trigger.on("click.tab-target",(function(e){var $this=$(this),target_id=$this.data("tab-target"),group_id=$this.data("tab-target-group"),$group=$('[data-tab-target-group="'+group_id+'"]'),$target=$('[data-tab-target-id="'+target_id+'"]'),$target_group=$('[data-tab-target-group-id="'+group_id+'"]');$target_group.length&&($target_group.removeClass(prefix+"-show").removeClass(prefix+"-hide"),$target_group.not($target).addClass(prefix+"-hide")),$target.length&&$target.addClass(prefix+"-show"),$group.length&&$group.removeClass(prefix+"-current").removeClass("-js-current"),$this.addClass(prefix+"-current").addClass("-js-current")})),$("[data-tab-target-current]").trigger("click.tab-target"))},ua:ua}}(jQuery,window,window.document);!function($){CMN.ua.is_tablet&&$("head").find('meta[name="viewport"]').attr("content","width=1200px,user-scalable=0,shrink-to-fit=no")}(jQuery),function($,window,document){$(window).on("load.anchor",(function(){var hash=window.location.hash;""!==hash&&"/"!==hash.substr(1,1)&&CMN.smoothScrollBy(hash)})),$((function(){var $body,mousewheelevent;CMN.tabTarget(),CMN.tabSwitch(),$('a[href*="#"]').on("click.anchor",(function(e){var lo=window.location;if(-1!==String($(this).attr("href")).indexOf("?"))return!0;var a=$(this).get(0);lo.pathname===a.pathname&&(e.preventDefault(),CMN.smoothScrollBy(a.hash))})),$body=$(window.navigator.appName.match(/Opera/)?"html":"html,body"),mousewheelevent="onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll",$(document).on("touchstart mousedown "+mousewheelevent,(function(e){$body.is(":animated")&&$body.stop()})),$(".js-pagetop").on("click.pagetop",(function(e){return e.preventDefault(),CMN.smoothScrollBy(0),!1})),objectFitImages(".js-ofi")}))}(jQuery,window,window.document);